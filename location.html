<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>ğŸ“ ìì¬ ìœ„ì¹˜ â€” PBK Warehouse</title>
<style>
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif;background:#f1f5f9;min-height:100vh;color:#1e293b}
.header{background:linear-gradient(135deg,#4f46e5,#7c3aed);color:#fff;padding:16px 20px;position:sticky;top:0;z-index:100;box-shadow:0 2px 8px rgba(0,0,0,.2)}
.header h1{font-size:18px;font-weight:700;display:flex;align-items:center;gap:8px}
.header p{font-size:12px;color:#c7d2fe;margin-top:2px}
.search-wrap{padding:16px 16px 8px;background:#fff;border-bottom:1px solid #e2e8f0}
.search-row{display:flex;gap:8px}
.search-input{flex:1;padding:12px 16px;border:2px solid #e2e8f0;border-radius:10px;font-size:15px;outline:none;transition:.2s}
.search-input:focus{border-color:#6366f1}
.search-btn{padding:12px 18px;background:#f59e0b;color:#fff;border:none;border-radius:10px;font-size:15px;font-weight:700;cursor:pointer;transition:.2s;white-space:nowrap}
.search-btn:hover{background:#d97706}
.autocomplete{position:absolute;left:0;right:0;top:100%;background:#fff;border:1px solid #e2e8f0;border-radius:10px;box-shadow:0 8px 24px rgba(0,0,0,.12);z-index:200;max-height:240px;overflow-y:auto;margin-top:4px}
.ac-item{padding:10px 14px;cursor:pointer;border-bottom:1px solid #f1f5f9;display:flex;align-items:center;gap:10px}
.ac-item:hover{background:#eef2ff}
.ac-item:last-child{border:none}
.ac-mat{font-family:monospace;font-weight:700;font-size:13px;color:#1e293b;flex-shrink:0}
.ac-desc{font-size:12px;color:#64748b;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.ac-bin{font-size:11px;color:#6366f1;font-weight:600;flex-shrink:0}
.content{padding:14px}
.card{background:#fff;border-radius:14px;box-shadow:0 1px 4px rgba(0,0,0,.07);overflow:hidden;margin-bottom:12px}
.card-header{padding:10px 14px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid #f1f5f9}
.badge{padding:3px 8px;border-radius:6px;font-size:11px;font-weight:700;color:#fff}
.badge-48{background:#ef4444}.badge-16{background:#3b82f6}.badge-hsm{background:#f97316}.badge-etc{background:#64748b}
.card-title{font-size:16px;font-weight:700;display:flex;align-items:center;gap:6px}
.card-sub{font-size:12px;color:#94a3b8;margin-left:4px}
.card-count{font-size:13px;color:#6366f1;font-weight:600}
.card-body{padding:12px 14px}
.rack-row{display:flex;gap:10px;align-items:flex-start}
.items-col{flex:1;min-width:0}
.item-chip{display:flex;align-items:center;gap:8px;padding:6px 10px;background:#fffbeb;border:1px solid #fde68a;border-radius:8px;margin-bottom:4px}
.item-mat{font-family:monospace;font-weight:700;font-size:12px;flex-shrink:0}
.item-desc{font-size:12px;color:#64748b;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.item-qty{font-weight:700;font-size:12px;color:#4f46e5;flex-shrink:0}
.map-col{flex-shrink:0;display:flex;flex-direction:column;align-items:center;gap:6px}
.summary-bar{display:flex;flex-wrap:wrap;gap:6px;margin-bottom:12px}
.sum-tag{padding:4px 10px;border-radius:20px;font-size:12px;font-weight:600}
.more-tag{font-size:11px;color:#94a3b8;padding:2px 6px}
.empty-box{background:#fff;border-radius:14px;padding:40px 20px;text-align:center}
.empty-box .icon{font-size:48px;margin-bottom:12px}
.hint-chips{display:flex;flex-wrap:wrap;justify-content:center;gap:6px;margin-top:14px}
.hint-chip{padding:6px 12px;background:#f1f5f9;border:1px solid #e2e8f0;border-radius:8px;font-size:12px;cursor:pointer;color:#475569;transition:.15s}
.hint-chip:hover{background:#e0e7ff;border-color:#c7d2fe;color:#4f46e5}
.table-wrap{margin-top:10px;border-radius:10px;overflow:hidden;border:1px solid #e2e8f0}
table{width:100%;border-collapse:collapse;font-size:12px}
th{background:#f8fafc;padding:8px 10px;text-align:left;font-weight:600;color:#64748b;border-bottom:1px solid #e2e8f0}
td{padding:7px 10px;border-bottom:1px solid #f1f5f9;color:#374151}
tr:last-child td{border:none}
tr:hover td{background:#f8f9ff}
.t-mat{font-family:monospace;font-weight:700}
.t-desc{max-width:160px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.t-qty{text-align:right;font-weight:600;color:#4f46e5}
.back-btn{display:inline-flex;align-items:center;gap:6px;padding:8px 14px;background:#f1f5f9;border-radius:8px;font-size:13px;font-weight:600;color:#475569;cursor:pointer;margin-bottom:12px;border:1px solid #e2e8f0}
.back-btn:hover{background:#e0e7ff;color:#4f46e5}
.data-info{font-size:11px;color:#94a3b8;padding:4px 8px;text-align:right}
@media(max-width:400px){.item-desc{display:none}.rack-row{flex-wrap:wrap}}
</style>
</head>
<body>
<div class="header">
  <h1>ğŸ“ ìì¬ ìœ„ì¹˜ ê²€ìƒ‰</h1>
  <p>PBK Warehouse Â· ë°ì´í„°: 2026. 2. 26. ì˜¤ì „ 8:24:02</p>
</div>
<div class="search-wrap">
  <div class="search-row" style="position:relative">
    <div style="flex:1;position:relative">
      <input class="search-input" id="searchInput" type="text" placeholder="Material ë²ˆí˜¸ ë˜ëŠ” Description (ì˜ˆ: KB0781, Motor)" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false">
      <div class="autocomplete" id="acList" style="display:none"></div>
    </div>
    <button class="search-btn" onclick="doSearch()">ğŸ” ê²€ìƒ‰</button>
  </div>
</div>
<div class="content" id="content">
  <div class="empty-box">
    <div class="icon">ğŸ“¦</div>
    <p>Material ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë©´<br>ì°½ê³  ë³´ê´€ ìœ„ì¹˜ë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤</p>
    <small>Material ë²ˆí˜¸ ë˜ëŠ” Descriptionìœ¼ë¡œ ê²€ìƒ‰ ê°€ëŠ¥</small>
    <div class="hint-chips" id="hintChips">
      <span class="hint-chip" onclick="quickSearch('710335')">710335</span>
      <span class="hint-chip" onclick="quickSearch('KB0781')">KB0781</span>
      <span class="hint-chip" onclick="quickSearch('Motor')">Motor</span>
      <span class="hint-chip" onclick="quickSearch('Heater')">Heater</span>
    </div>
  </div>
</div>
<script>
const RACK_MODEL_SERIES={
  'A5':'Maxwell 16','A6':'Maxwell 16','A7':'Maxwell 16','B2':'Maxwell 16','C1':'Maxwell 16',
  'A1':'Maxwell 48','A2':'Maxwell 48','B1':'Maxwell 48','B3':'Maxwell 48','C3':'Maxwell 48',
  'A3':'HSM 3.0','B4':'HSM 3.0','C2':'HSM 3.0'
};
const BIN_LEVEL_MAP={
  'A1-01':{l:3,p:1},'A1-02':{l:3,p:2},'A1-03':{l:3,p:3},'A1-04':{l:3,p:1},'A1-05':{l:3,p:2},'A1-06':{l:3,p:3},
  'A2-01':{l:3,p:1},'A2-02':{l:3,p:2},'A2-03':{l:3,p:1},'A2-04':{l:3,p:2},'A2-05':{l:3,p:3},
  'A3-01':{l:4,p:1},'A3-02':{l:4,p:2},'A3-03':{l:4,p:3},'A3-04':{l:4,p:4},
  'A5-01':{l:3,p:1},'A5-02':{l:3,p:2},'A5-03':{l:3,p:3},'A5-04':{l:3,p:1},'A5-05':{l:3,p:2},'A5-06':{l:3,p:3},
  'A6-01':{l:3,p:1},'A6-02':{l:3,p:2},'A6-03':{l:3,p:3},'A6-04':{l:3,p:1},'A6-05':{l:3,p:2},'A6-06':{l:3,p:3},
  'A7-01':{l:2,p:1},'A7-02':{l:1,p:1},
  'B1-01':{l:5,p:1},'B1-02':{l:5,p:2},'B1-03':{l:5,p:3},'B1-04':{l:5,p:4},'B1-05':{l:5,p:5},
  'B1-06':{l:5,p:1},'B1-07':{l:5,p:2},'B1-08':{l:5,p:3},'B1-09':{l:5,p:4},'B1-10':{l:5,p:5},
  'B1-11':{l:1,p:1},'B1-12':{l:1,p:1},'B1-14':{l:1,p:1},
  'B2-01':{l:5,p:1},'B2-02':{l:5,p:2},'B2-03':{l:5,p:3},'B2-04':{l:5,p:4},'B2-05':{l:5,p:5},
  'B2-06':{l:5,p:1},'B2-07':{l:5,p:2},'B2-08':{l:5,p:3},'B2-09':{l:5,p:4},'B2-10':{l:5,p:5},
  'B2-11':{l:5,p:1},'B2-12':{l:5,p:2},'B2-13':{l:5,p:3},'B2-14':{l:5,p:4},'B2-15':{l:5,p:5},
  'B2-18':{l:1,p:1},
  'B3-01':{l:1,p:1},'B3-02':{l:1,p:1},'B3-03':{l:1,p:1},'B3-04':{l:1,p:1},'B3-05':{l:1,p:1},
  'B4-01':{l:5,p:1},'B4-02':{l:5,p:2},'B4-03':{l:5,p:3},'B4-04':{l:5,p:4},
  'B4-05':{l:6,p:1},'B4-06':{l:6,p:2},'B4-07':{l:6,p:3},'B4-08':{l:6,p:4},'B4-09':{l:6,p:5},'B4-10':{l:6,p:6},
  'B4-11':{l:2,p:1},'B4-12':{l:2,p:2},'B4-13':{l:2,p:1},'B4-14':{l:2,p:2},'B4-15':{l:2,p:1},'B4-16':{l:2,p:2},'B4-17':{l:1,p:1},
  'C1-01':{l:7,p:1},'C1-02':{l:7,p:2},'C1-03':{l:7,p:3},'C1-04':{l:7,p:4},'C1-05':{l:7,p:5},'C1-06':{l:7,p:6},'C1-07':{l:7,p:7},
  'C1-08':{l:7,p:1},'C1-09':{l:7,p:2},'C1-10':{l:7,p:3},'C1-11':{l:7,p:4},'C1-12':{l:7,p:5},'C1-13':{l:7,p:6},'C1-14':{l:7,p:7},
  'C2-01':{l:7,p:1},'C2-02':{l:7,p:2},'C2-03':{l:7,p:3},'C2-04':{l:7,p:4},'C2-05':{l:7,p:5},'C2-06':{l:7,p:6},'C2-07':{l:7,p:7},
  'C2-08':{l:7,p:1},'C2-09':{l:7,p:2},'C2-10':{l:7,p:3},'C2-11':{l:7,p:4},'C2-12':{l:7,p:5},'C2-13':{l:7,p:6},'C2-14':{l:7,p:7},
  'C2-15':{l:4,p:1},'C2-16':{l:4,p:2},'C2-17':{l:4,p:3},'C2-18':{l:4,p:4},
  'C2-19':{l:5,p:1},'C2-20':{l:5,p:2},'C2-21':{l:5,p:3},'C2-22':{l:5,p:4},'C2-23':{l:5,p:5},
  'C3-01':{l:7,p:1},'C3-02':{l:7,p:2},'C3-03':{l:7,p:3},'C3-04':{l:7,p:4},'C3-05':{l:7,p:5},'C3-06':{l:7,p:6},'C3-07':{l:7,p:7},
  'C3-08':{l:7,p:1},'C3-09':{l:7,p:2},'C3-10':{l:7,p:3},'C3-11':{l:7,p:4},'C3-12':{l:7,p:5},'C3-13':{l:7,p:6},'C3-14':{l:7,p:7},
  'C3-15':{l:6,p:1},'C3-16':{l:6,p:2},'C3-17':{l:6,p:3},'C3-18':{l:6,p:4},'C3-19':{l:6,p:5},'C3-20':{l:6,p:6},
  'C3-21':{l:5,p:1},'C3-22':{l:5,p:2},'C3-23':{l:5,p:3},'C3-24':{l:5,p:4},'C3-25':{l:5,p:5},
  'D2':{l:1,p:1},'E3':{l:1,p:1},'S1':{l:3,p:1}
};
// layoutData ê¸°ë°˜ ë™ì  ë¯¸ë‹ˆë§µ
const SC_HEX={mx48:'#dc2626',mx16:'#2563eb',hsm:'#d97706',semi:'#eab308',spare:'#7c3aed',etc:'#06b6d4'};
const LAYOUT_DATA={"R":[{"id":1,"a":"A1","t":"heavy","s":"mx48","x":288,"y":1040,"rot":false},{"id":2,"a":"A1","t":"heavy","s":"mx48","x":400,"y":1040,"rot":false},{"id":3,"a":"A1","t":"heavy","s":"mx48","x":288,"y":1064,"rot":false},{"id":4,"a":"A1","t":"heavy","s":"mx48","x":400,"y":1064,"rot":false},{"id":15,"a":"A2","t":"heavy","s":"mx48","x":288,"y":1160,"rot":false},{"id":16,"a":"A2","t":"heavy","s":"mx48","x":400,"y":1160,"rot":false},{"id":17,"a":"A2","t":"heavy","s":"mx48","x":288,"y":1192,"rot":false},{"id":18,"a":"A2","t":"heavy","s":"mx48","x":400,"y":1192,"rot":false},{"id":29,"a":"A5","t":"heavy","s":"mx16","x":592,"y":1040,"rot":false},{"id":30,"a":"A5","t":"heavy","s":"mx16","x":592,"y":1064,"rot":false},{"id":41,"a":"A6","t":"heavy","s":"mx16","x":592,"y":1160,"rot":false},{"id":42,"a":"A6","t":"heavy","s":"mx16","x":592,"y":1192,"rot":false},{"id":53,"a":"A7","t":"heavy","s":"mx16","x":592,"y":1312,"rot":false},{"id":54,"a":"A7","t":"light","s":"mx16","x":592,"y":1280,"rot":false},{"id":55,"a":"A7","t":"light","s":"mx16","x":648,"y":1280,"rot":false},{"id":66,"a":"B1","t":"light","s":"mx48","x":288,"y":1280,"rot":false},{"id":67,"a":"B1","t":"light","s":"mx48","x":344,"y":1280,"rot":false},{"id":68,"a":"B1","t":"light","s":"mx48","x":400,"y":1280,"rot":false},{"id":69,"a":"B1","t":"light","s":"mx48","x":456,"y":1280,"rot":false},{"id":70,"a":"B1","t":"light","s":"mx48","x":288,"y":1312,"rot":false},{"id":71,"a":"B1","t":"light","s":"mx48","x":344,"y":1312,"rot":false},{"id":72,"a":"B1","t":"light","s":"mx48","x":400,"y":1312,"rot":false},{"id":73,"a":"B1","t":"light","s":"mx48","x":456,"y":1312,"rot":false},{"id":74,"a":"B1","t":"light","s":"mx48","x":288,"y":1400,"rot":false},{"id":75,"a":"B1","t":"light","s":"mx48","x":344,"y":1400,"rot":false},{"id":76,"a":"B1","t":"heavy","s":"mx48","x":400,"y":1400,"rot":false},{"id":87,"a":"B2","t":"light","s":"mx16","x":592,"y":1520,"rot":false},{"id":88,"a":"B2","t":"light","s":"mx16","x":648,"y":1520,"rot":false},{"id":89,"a":"B2","t":"light","s":"mx16","x":592,"y":1552,"rot":false},{"id":90,"a":"B2","t":"light","s":"mx16","x":648,"y":1552,"rot":false},{"id":101,"a":"B3","t":"light","s":"mx48","x":288,"y":1432,"rot":false},{"id":102,"a":"B3","t":"light","s":"mx48","x":344,"y":1432,"rot":false},{"id":103,"a":"B3","t":"light","s":"mx48","x":400,"y":1432,"rot":false},{"id":104,"a":"B3","t":"light","s":"mx48","x":456,"y":1432,"rot":false},{"id":105,"a":"B3","t":"heavy","s":"mx48","x":296,"y":1520,"rot":false},{"id":106,"a":"B3","t":"heavy","s":"mx48","x":400,"y":1520,"rot":false},{"id":107,"a":"B3","t":"heavy","s":"mx48","x":296,"y":1552,"rot":false},{"id":108,"a":"B3","t":"heavy","s":"mx48","x":400,"y":1552,"rot":false},{"id":119,"a":"B4","t":"light","s":"hsm","x":448,"y":232,"rot":false},{"id":120,"a":"B4","t":"light","s":"hsm","x":392,"y":232,"rot":false},{"id":121,"a":"B4","t":"light","s":"hsm","x":560,"y":136,"rot":false},{"id":122,"a":"B4","t":"light","s":"hsm","x":504,"y":136,"rot":false},{"id":123,"a":"B4","t":"light","s":"hsm","x":448,"y":136,"rot":false},{"id":124,"a":"B4","t":"light","s":"hsm","x":392,"y":136,"rot":false},{"id":135,"a":"C1","t":"light","s":"mx16","x":592,"y":1640,"rot":false},{"id":136,"a":"C1","t":"light","s":"mx16","x":648,"y":1640,"rot":false},{"id":137,"a":"C1","t":"light","s":"mx16","x":592,"y":1672,"rot":false},{"id":138,"a":"C1","t":"light","s":"mx16","x":648,"y":1672,"rot":false},{"id":149,"a":"C2","t":"light","s":"hsm","x":392,"y":112,"rot":false},{"id":150,"a":"C2","t":"light","s":"hsm","x":448,"y":112,"rot":false},{"id":151,"a":"C2","t":"light","s":"hsm","x":504,"y":112,"rot":false},{"id":152,"a":"C2","t":"light","s":"hsm","x":560,"y":112,"rot":false},{"id":163,"a":"C3","t":"light","s":"mx48","x":288,"y":1640,"rot":false},{"id":164,"a":"C3","t":"light","s":"mx48","x":344,"y":1640,"rot":false},{"id":165,"a":"C3","t":"light","s":"mx48","x":288,"y":1664,"rot":false},{"id":166,"a":"C3","t":"light","s":"mx48","x":344,"y":1664,"rot":false},{"id":167,"a":"C3","t":"light","s":"mx48","x":400,"y":1640,"rot":false},{"id":168,"a":"C3","t":"light","s":"mx48","x":456,"y":1640,"rot":false},{"id":169,"a":"C3","t":"light","s":"mx48","x":400,"y":1664,"rot":false},{"id":170,"a":"C3","t":"light","s":"mx48","x":456,"y":1664,"rot":false},{"id":181,"a":"A3","t":"heavy","s":"hsm","x":392,"y":264,"rot":false},{"id":182,"a":"A3","t":"light","s":"hsm","x":504,"y":264,"rot":false},{"id":183,"a":"A3","t":"light","s":"hsm","x":560,"y":264,"rot":false},{"id":194,"a":"S1","t":"heavy","s":"semi","x":832,"y":1312,"rot":false},{"id":195,"a":"S1","t":"heavy","s":"semi","x":832,"y":1040,"rot":false},{"id":196,"a":"S1","t":"heavy","s":"semi","x":832,"y":1280,"rot":false},{"id":197,"a":"S1","t":"heavy","s":"semi","x":832,"y":1072,"rot":false},{"id":198,"a":"S1","t":"heavy","s":"semi","x":832,"y":1192,"rot":false},{"id":199,"a":"S1","t":"heavy","s":"semi","x":832,"y":1160,"rot":false},{"id":210,"a":"E3","t":"light","s":"etc","x":832,"y":1640,"rot":false},{"id":211,"a":"E3","t":"light","s":"etc","x":888,"y":1640,"rot":false},{"id":212,"a":"E3","t":"light","s":"etc","x":832,"y":1672,"rot":false},{"id":213,"a":"E3","t":"light","s":"etc","x":888,"y":1672,"rot":false},{"id":224,"a":"D2","t":"custom","s":"etc","x":864,"y":1912,"rot":0,"cw":1000,"ch":450,"cc":"","fs":10,"fc":""},{"id":235,"a":"F1","t":"light","s":"spare","x":1792,"y":872,"rot":true},{"id":236,"a":"D2","t":"custom","s":"etc","x":927,"y":1912,"rot":false,"cw":1000,"ch":450,"cc":""},{"id":237,"a":"A3","t":"light","s":"hsm","x":504,"y":232,"rot":false},{"id":238,"a":"A3","t":"light","s":"hsm","x":560,"y":232,"rot":false},{"id":239,"a":"DOOR","t":"custom","s":"etc","x":608,"y":656,"rot":90,"cw":1500,"ch":200,"cc":"#065f46","fs":10,"fc":""},{"id":240,"a":"DOOR","t":"custom","s":"etc","x":800,"y":816,"rot":0,"cw":1500,"ch":200,"cc":"#065f46","fs":10,"fc":""},{"id":241,"a":"DOOR","t":"custom","s":"etc","x":304,"y":48,"rot":false,"cw":1400,"ch":200,"cc":"#065f46","fs":10,"fc":""},{"id":242,"a":"PLT","t":"custom","s":"etc","x":394,"y":824,"rot":false,"cw":1000,"ch":1000,"cc":"#a16207"},{"id":243,"a":"PLT","t":"custom","s":"etc","x":648,"y":824,"rot":false,"cw":1000,"ch":1000,"cc":"#a16207"},{"id":244,"a":"PLT","t":"custom","s":"etc","x":520,"y":824,"rot":false,"cw":1000,"ch":1000,"cc":"#a16207"},{"id":245,"a":"PLT","t":"custom","s":"etc","x":457,"y":824,"rot":false,"cw":1000,"ch":1000,"cc":"#a16207"},{"id":246,"a":"PLT","t":"custom","s":"etc","x":711,"y":824,"rot":false,"cw":1000,"ch":1000,"cc":"#a16207"},{"id":247,"a":"DOOR","t":"custom","s":"etc","x":280,"y":320,"rot":90,"cw":1000,"ch":200,"cc":"#065f46","fs":10,"fc":""}],"zones":[{"id":"defect","n":"8160 Area","x":0,"y":120,"w":240,"h":232,"c":"rgba(239,68,68,.15)","b":"rgba(239,68,68,.15)","fs":11,"fc":"#fafafa","rot":0,"excl":true},{"id":"pkg","n":"Packaging Foam","x":0,"y":352,"w":150,"h":918,"c":"#159d3e","b":"#159d3e","fs":15,"fc":"#fafafa","rot":0,"excl":false},{"id":"inj","n":"Injection","x":336,"y":304,"w":228,"h":300,"c":"rgba(96,165,250,.12)","b":"rgba(96,165,250,.12)","fs":11,"fc":"#fafafa","rot":0,"excl":false},{"id":"bp","n":"Base Plate","x":696,"y":1768,"w":120,"h":120,"c":"rgba(168,85,247,.12)","b":"rgba(168,85,247,.12)","fs":11,"fc":"#ffffff","rot":0,"excl":false},{"id":"sp","n":"Spare Part Box","x":0,"y":1272,"w":150,"h":618,"c":"#159d3e","b":"#159d3e","fs":15,"fc":"#fafafa","rot":0,"excl":false},{"id":"test","n":"Test Area","x":1200,"y":776,"w":180,"h":48,"c":"rgba(96,165,250,.12)","b":"rgba(96,165,250,.12)","fs":11,"fc":"","rot":0},{"id":"fqc","n":"Final QC Area","x":1376,"y":1840,"w":180,"h":48,"c":"rgba(96,165,250,.12)","b":"rgba(96,165,250,.12)","fs":11,"fc":"","rot":0},{"id":"stand","n":"Stand","x":784,"y":1352,"w":108,"h":27,"c":"#f79e02","b":"#f79e02","fs":11,"fc":"#fafafa","rot":0,"excl":false},{"id":"tablet","n":"Tablet","x":784,"y":1472,"w":108,"h":27,"c":"#f79e02","b":"#f79e02","fs":11,"fc":"#fafafa","rot":0,"excl":false},{"id":"ybox","n":"Yellow Box","x":0,"y":0,"w":240,"h":120,"c":"rgba(234,179,8,.15)","b":"rgba(234,179,8,.15)","fs":11,"fc":"#fafafa","rot":0,"excl":false},{"id":"z17709643814060.7173802651489223","n":"Stand","x":784,"y":1384,"w":108,"h":27,"c":"#f79e02","b":"#f79e02","fs":11,"fc":"#fafafa","rot":0,"excl":false},{"id":"z17709643872460.18794782820350542","n":"Tablet","x":784,"y":1504,"w":108,"h":27,"c":"#f79e02","b":"#f79e02","fs":11,"fc":"#fafafa","rot":0,"excl":false},{"id":"z1771453403672","n":"ê¸°ë‘¥","x":568,"y":1352,"w":60,"h":60,"c":"rgba(34,197,94,.15)","b":"rgba(34,197,94,.15)","fs":11,"fc":"#fafafa","rot":0,"excl":true},{"id":"z17714700026750.5813224316903378","n":"Barcode/ E6150 Area","x":216,"y":1768,"w":360,"h":120,"c":"rgba(168,85,247,.12)","b":"rgba(168,85,247,.12)","fs":11,"fc":"#ffffff","rot":0,"excl":false},{"id":"z17714700269630.5546431901161379","n":"ê¸°ë‘¥","x":576,"y":1800,"w":120,"h":90,"c":"rgba(34,197,94,.15)","b":"rgba(34,197,94,.15)","fs":11,"fc":"#fafafa","rot":0,"excl":true},{"id":"z17714711138350.08134200523796242","n":"ê¸°ë‘¥","x":536,"y":776,"w":60,"h":60,"c":"rgba(34,197,94,.15)","b":"rgba(34,197,94,.15)","fs":11,"fc":"#fafafa","rot":0,"excl":true},{"id":"z17714711826730.3634298624438561","n":"Injection","x":336,"y":712,"w":228,"h":60,"c":"rgba(96,165,250,.12)","b":"rgba(96,165,250,.12)","fs":11,"fc":"#fafafa","rot":0,"excl":false}],"txts":[],"rulers":[],"lines":[{"id":2,"x1":984,"y1":831,"x2":987,"y2":1933,"style":"solid","color":"#ffffff","width":2,"arrow":false}],"areas":[]};
function rpxL(r){
  var cw,ch;
  if(r.t==='custom'){cw=(r.cw||1800)*0.06;ch=(r.ch||450)*0.06;}
  else{cw=(r.t==='heavy'?1800:900)*0.06;ch=450*0.06;}
  if(r.rot===true||r.rot===90||r.rot===270){var tmp=cw;cw=ch;ch=tmp;}
  return{w:cw,h:ch};
}
function drawMiniMap(canvasId, targetArea){
  const cv=document.getElementById(canvasId);
  if(!cv)return;
  const ctx=cv.getContext('2d');
  const W=cv.width, H=cv.height;
  ctx.clearRect(0,0,W,H);
  ctx.fillStyle='#0f172a'; ctx.fillRect(0,0,W,H);
  if(!LAYOUT_DATA||!LAYOUT_DATA.R){
    ctx.fillStyle='#475569';ctx.font='11px sans-serif';ctx.textAlign='center';
    ctx.fillText('ë°°ì¹˜ë„ ë°ì´í„° ì—†ìŒ',W/2,H/2);return;
  }
  const BX=50,BY=50,WHW=564,WHH=1890;
  const sc=Math.min((W-16)/WHW,(H-16)/WHH);
  const ox=8,oy=8;
  const mx=x=>ox+(x-BX)*sc;
  const my=y=>oy+(y-BY)*sc;
  // Lì ì™¸ê³½
  ctx.beginPath();
  ctx.moveTo(mx(BX),my(BY));ctx.lineTo(mx(BX+WHW),my(BY));
  ctx.lineTo(mx(BX+WHW),my(BY+774));ctx.lineTo(mx(982),my(BY+774));
  ctx.lineTo(mx(982),my(BY+WHH));ctx.lineTo(mx(BX),my(BY+WHH));ctx.closePath();
  ctx.fillStyle='#1e293b';ctx.fill();
  ctx.strokeStyle='#475569';ctx.lineWidth=1;ctx.stroke();
  // bbox ê³„ì‚°
  const bboxMap={};
  LAYOUT_DATA.R.forEach(function(r){
    var nm=(r.a||'').toUpperCase();
    if(nm.indexOf('DOOR')>=0||nm.indexOf('PILLAR')>=0||nm.indexOf('TBL')>=0||nm.indexOf('PLT')>=0)return;
    var d=rpxL(r),rx=mx(r.x),ry=my(r.y),rw=d.w*sc,rh=d.h*sc;
    var area=r.a||'';
    if(!bboxMap[area])bboxMap[area]={x1:rx,y1:ry,x2:rx+rw,y2:ry+rh,s:r.s};
    else{bboxMap[area].x1=Math.min(bboxMap[area].x1,rx);bboxMap[area].y1=Math.min(bboxMap[area].y1,ry);
      bboxMap[area].x2=Math.max(bboxMap[area].x2,rx+rw);bboxMap[area].y2=Math.max(bboxMap[area].y2,ry+rh);}
  });
  // ë™ ê·¸ë¦¬ê¸°
  LAYOUT_DATA.R.forEach(function(r){
    var nm=(r.a||'').toUpperCase();
    if(nm.indexOf('DOOR')>=0||nm.indexOf('PILLAR')>=0||nm.indexOf('TBL')>=0||nm.indexOf('PLT')>=0)return;
    var d=rpxL(r),rx=mx(r.x),ry=my(r.y),rw=Math.max(d.w*sc,2),rh=Math.max(d.h*sc,2);
    var isTarget=r.a===targetArea;
    ctx.globalAlpha=isTarget?0.95:0.35;
    ctx.fillStyle=r.cc||(SC_HEX[r.s]||'#64748b');
    ctx.fillRect(rx,ry,rw,rh);
    ctx.globalAlpha=1;
  });
  // íƒ€ê²Ÿ bbox í•˜ì´ë¼ì´íŠ¸
  var bbox=bboxMap[targetArea];
  if(bbox){
    ctx.strokeStyle='#fbbf24';ctx.lineWidth=2;
    ctx.setLineDash([4,2]);
    ctx.strokeRect(bbox.x1-2,bbox.y1-2,(bbox.x2-bbox.x1)+4,(bbox.y2-bbox.y1)+4);
    ctx.setLineDash([]);
    ctx.fillStyle='#fbbf24';ctx.font='bold 9px sans-serif';
    ctx.textAlign='center';ctx.textBaseline='bottom';
    ctx.fillText(targetArea,(bbox.x1+bbox.x2)/2,Math.max(bbox.y1-3,12));
  }
}
function renderMiniMap(targetArea, uid){
  return '<canvas id="mm_'+uid+'" width="200" height="360" style="border-radius:8px;border:1px solid #1e293b;display:block"></canvas>'
    +'<small style="font-size:10px;color:#94a3b8;margin-top:3px;display:block;text-align:center">'+targetArea+' ì˜ì—­</small>';
}
function resetSearch(){
  currentQuery='';input.value='';input.focus();
  document.getElementById('content').innerHTML='<div class="empty-box"><div class="icon">ğŸ“¦</div><p>Material ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ë©´<br>ì°½ê³  ë³´ê´€ ìœ„ì¹˜ë¥¼ ì•ˆë‚´í•©ë‹ˆë‹¤</p><small>Material ë²ˆí˜¸ ë˜ëŠ” Descriptionìœ¼ë¡œ ê²€ìƒ‰ ê°€ëŠ¥</small><div class="hint-chips"><span class="hint-chip" onclick="quickSearch(\'710335\')">710335</span><span class="hint-chip" onclick="quickSearch(\'KB0781\')">KB0781</span><span class="hint-chip" onclick="quickSearch(\'Motor\')">Motor</span></div></div>';
}
(function(){
  const p=new URLSearchParams(location.search);
  const m=p.get('m')||p.get('material');
  if(m){input.value=m;setTimeout(()=>doSearch(),100);}
})();
</script>
</body>
</html>